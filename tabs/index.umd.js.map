{"version":3,"file":"index.umd.js","sources":["../../packages/components/tabs/src/index.jsx","../../packages/components/tabs/src/props.ts","../../packages/components/tabs/index.ts"],"sourcesContent":["import './tabs.scss'\nimport props from './props'\nimport { defineComponent, onMounted, nextTick, ref, reactive, watch } from 'vue'\nexport default defineComponent({\n    name: \"SnTabs\",\n    props,\n    setup(props, { slots, attrs }) {\n\n        const tabsRef = ref()\n\n        const tabOption = reactive({\n            width: 0,\n            moveX: 0,\n            count: 1,\n            unoccupied: 0,\n            tabsCount: 0,\n            differ: 0,\n            activeTab: 1\n        })\n\n\n        const tabList = ref([\n            {\n                path: 1,\n                title: \"权限管理\"\n            },\n            {\n                path: 2,\n                title: \"电影管理\"\n            },\n            {\n                path: 3,\n                title: \"成员管理\"\n            },\n            {\n                path: 4,\n                title: \"学生管理\"\n            },\n            {\n                path: 5,\n                title: \"材料管理\"\n            },\n            {\n                path: 6,\n                title: \"教师管理\"\n            },\n            {\n                path: 7,\n                title: \"设备管理\"\n            },\n            {\n                path: 8,\n                title: \"信息管理\"\n            },\n            {\n                path: 9,\n                title: \"教师管理\"\n            },\n            {\n                path: 10,\n                title: \"设备管理\"\n            },\n            {\n                path: 11,\n                title: \"信息管理\"\n            },\n            {\n                path: 12,\n                title: \"信息管理\"\n            }\n        ]);\n\n        watch(() => tabOption.activeTab,\n            val => {\n                let len = tabList.value.length;\n                for (let i = 0; i < len; i++) {\n                    if (tabList.value[i].path === val) {\n                    nextTick(() => {\n                        translateX((i + 1 - tabOption.tabsCount) * tabOption.width);\n                    });\n                    return;\n                    }\n                }\n                nextTick(() => {\n                    translateX(\n                    (tabList.value.length - tabOption.tabsCount) * tabOption.width -\n                        tabOption.unoccupied\n                    );\n                });\n            }\n        );\n\n        onMounted(() => {\n            nextTick(() => initTabBar())\n        })\n\n        const initTabBar = () => {\n            console.log(tabsRef)\n            let tabs = tabsRef.value;\n            let getStyle = getComputedStyle(tabs.children[0].children[0], null);\n            let marginLeft = parseFloat(\n              getStyle.marginLeft.substr(0, getStyle.marginLeft.length - 2)\n            );\n            let marginRight = parseFloat(\n              getStyle.marginRight.substr(0, getStyle.marginRight.length - 2)\n            );\n            tabOption.width =\n              marginLeft + marginRight + tabs.children[0].children[0].offsetWidth;\n            tabOption.unoccupied = tabs.offsetWidth % tabOption.width;\n            tabOption.differ = tabOption.width - tabOption.unoccupied;\n            tabOption.unoccupied =\n              tabOption.differ < 10 ? tabOption.width : tabOption.unoccupied;\n            tabOption.tabsCount = parseInt(tabs.offsetWidth) / tabOption.width;\n        };\n\n        const onChangeTab = path => {\n            if (tabOption.activeTab !== path) tabOption.activeTab = path;\n          };\n          \n        const translateX = x => {\n            tabOption.moveX = x < 0 ? 0 : x;\n            tabsRef.value.children[0].style.transform = `translateX(-${tabOption.moveX}px)`;\n        };\n\n\n        return () => (\n            <div class=\"tabbar-container\">\n                <div class=\"tab-wrapper\" ref={tabsRef}>\n                    <div class=\"tabs\">\n                        {\n                            tabList.value.map((item, index) => {\n                                return (\n                                    <div\n                                    id={`item_` + item.path}\n                                    class={{'tab-item': true, 'animate__animated': true, active: item.path === 1 }}\n                                    key={item.path}\n                                    onClick={() => onChangeTab(item.path)}\n                                    >\n                                        <span class=\"tab-title\">{ item.title }</span>\n                                        <el-icon class=\"icon-close\">\n                                            <i-park-close-small theme=\"outline\" size=\"24\" fill=\"#333\" />\n                                        </el-icon>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n})","export default {};\n","// export type { SnailLayoutProps } from \"../../types\";\n\nimport type { App } from \"vue\";\nimport Tabs from \"./src\";\n\nexport const SnTabs = Object.assign(Tabs, {\n  install: function (app: App) {\n    app.component(Tabs.name, Tabs);\n  }\n});\n\nexport default SnTabs;\n"],"names":["Tabs","defineComponent","name","props","setup","slots","attrs","tabsRef","ref","tabOption","reactive","width","moveX","count","unoccupied","tabsCount","differ","activeTab","tabList","path","title","watch","val","len","value","length","i","nextTick","translateX","onMounted","initTabBar","tabs","getStyle","getComputedStyle","children","marginLeft","parseFloat","substr","marginRight","offsetWidth","parseInt","x","style","transform","_createVNode","createVNode","class","map","item","index","id","animate__animated","active","key","onClick","onChangeTab","_resolveComponent","default","resolveComponent","theme","size","fill","SnTabs","Object","assign","install","app","component"],"mappings":"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"}