{"version":3,"file":"index.mjs","sources":["../../packages/components/tabs/src/props.ts","../../packages/components/tabs/src/index.jsx","../../packages/components/tabs/index.ts"],"sourcesContent":["export default {};\n","import './tabs.scss'\nimport props from './props'\nimport { defineComponent, onMounted, nextTick, ref, reactive, watch } from 'vue'\nexport default defineComponent({\n    name: \"SnTabs\",\n    props,\n    setup(props, { slots, attrs }) {\n\n        const tabsRef = ref()\n\n        const tabOption = reactive({\n            width: 0,\n            moveX: 0,\n            count: 1,\n            unoccupied: 0,\n            tabsCount: 0,\n            differ: 0,\n            activeTab: 1\n        })\n\n\n        const tabList = ref([\n            {\n                path: 1,\n                title: \"权限管理\"\n            },\n            {\n                path: 2,\n                title: \"电影管理\"\n            },\n            {\n                path: 3,\n                title: \"成员管理\"\n            },\n            {\n                path: 4,\n                title: \"学生管理\"\n            },\n            {\n                path: 5,\n                title: \"材料管理\"\n            },\n            {\n                path: 6,\n                title: \"教师管理\"\n            },\n            {\n                path: 7,\n                title: \"设备管理\"\n            },\n            {\n                path: 8,\n                title: \"信息管理\"\n            },\n            {\n                path: 9,\n                title: \"教师管理\"\n            },\n            {\n                path: 10,\n                title: \"设备管理\"\n            },\n            {\n                path: 11,\n                title: \"信息管理\"\n            },\n            {\n                path: 12,\n                title: \"信息管理\"\n            }\n        ]);\n\n        watch(() => tabOption.activeTab,\n            val => {\n                let len = tabList.value.length;\n                for (let i = 0; i < len; i++) {\n                    if (tabList.value[i].path === val) {\n                    nextTick(() => {\n                        translateX((i + 1 - tabOption.tabsCount) * tabOption.width);\n                    });\n                    return;\n                    }\n                }\n                nextTick(() => {\n                    translateX(\n                    (tabList.value.length - tabOption.tabsCount) * tabOption.width -\n                        tabOption.unoccupied\n                    );\n                });\n            }\n        );\n\n        onMounted(() => {\n            nextTick(() => initTabBar())\n        })\n\n        const initTabBar = () => {\n            console.log(tabsRef)\n            let tabs = tabsRef.value;\n            let getStyle = getComputedStyle(tabs.children[0].children[0], null);\n            let marginLeft = parseFloat(\n              getStyle.marginLeft.substr(0, getStyle.marginLeft.length - 2)\n            );\n            let marginRight = parseFloat(\n              getStyle.marginRight.substr(0, getStyle.marginRight.length - 2)\n            );\n            tabOption.width =\n              marginLeft + marginRight + tabs.children[0].children[0].offsetWidth;\n            tabOption.unoccupied = tabs.offsetWidth % tabOption.width;\n            tabOption.differ = tabOption.width - tabOption.unoccupied;\n            tabOption.unoccupied =\n              tabOption.differ < 10 ? tabOption.width : tabOption.unoccupied;\n            tabOption.tabsCount = parseInt(tabs.offsetWidth) / tabOption.width;\n        };\n\n        const onChangeTab = path => {\n            if (tabOption.activeTab !== path) tabOption.activeTab = path;\n          };\n          \n        const translateX = x => {\n            tabOption.moveX = x < 0 ? 0 : x;\n            tabsRef.value.children[0].style.transform = `translateX(-${tabOption.moveX}px)`;\n        };\n\n\n        return () => (\n            <div class=\"tabbar-container\">\n                <div class=\"tab-wrapper\" ref={tabsRef}>\n                    <div class=\"tabs\">\n                        {\n                            tabList.value.map((item, index) => {\n                                return (\n                                    <div\n                                    id={`item_` + item.path}\n                                    class={{'tab-item': true, 'animate__animated': true, active: item.path === 1 }}\n                                    key={item.path}\n                                    onClick={() => onChangeTab(item.path)}\n                                    >\n                                        <span class=\"tab-title\">{ item.title }</span>\n                                        <el-icon class=\"icon-close\">\n                                            <i-park-close-small theme=\"outline\" size=\"24\" fill=\"#333\" />\n                                        </el-icon>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n})","// export type { SnailLayoutProps } from \"../../types\";\n\nimport type { App } from \"vue\";\nimport Tabs from \"./src\";\n\nexport const SnTabs = Object.assign(Tabs, {\n  install: function (app: App) {\n    app.component(Tabs.name, Tabs);\n  }\n});\n\nexport default SnTabs;\n"],"names":["defineComponent","name","props","setup","slots","attrs","tabsRef","ref","tabOption","reactive","width","moveX","count","unoccupied","tabsCount","differ","activeTab","tabList","path","title","watch","val","len","value","length","i","nextTick","translateX","onMounted","initTabBar","console","log","tabs","getStyle","getComputedStyle","children","marginLeft","parseFloat","substr","marginRight","offsetWidth","parseInt","onChangeTab","x","style","transform","_createVNode","map","item","index","active","_resolveComponent"],"mappings":"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"}